<script setup>
import ICalParser from '@/assets/js/ical-parser';

const icsUrl = import.meta.env.VITE_CALENDAR_ICS_URL
const parser = new ICalParser()

async function loadCalendar() {
  const res = await fetch(icsUrl)
  const text = await res.text()

  parser.parse(text)
  const events = parser.getUpcomingEvents(20)

  console.log(events)
}

loadCalendar()
</script>

<template>
  <article class="mb-6">
    <h3 class="bg-black text-white uppercase font-bold px-4 py-3 text-base mb-4">
      Agenda
    </h3>

    <p class="text-lg mb-3">
      Trouvez ci-dessous l'agenda du LiÃ¨ge Hackerspace pour les <strong>42 prochains jours</strong>.
    </p>
    <p class="text-sm text-gray-600">
      <em>Certains Ã©vÃ©nements sont partiellement ou totalement indÃ©pendants du hackerspace mais organisÃ©s dans ses murs,
        souvent par ses membres.</em>
    </p>
    <div class="leading-relaxed">
      <h4>Open Night</h4>
      <p class="text-sm text-gray-600">
        <span class="font-semibold">ğŸ“… Mercredi 26 novembre</span>
        <span class="ml-4">ğŸ• 16:00
          â†’
          22:00 </span>
      </p>

      <p class="text-sm">
        <b>Ouvert Ã  tous!&nbsp; &nbsp;&nbsp;</b><i>Gratuit&nbsp; &nbsp; LgHs</i><br>Nous assurons l'accueil des
        visiteurs et des nouveaux membres chaque mercredi de 16h Ã  22h.<br>L'occasion parfaite de dÃ©couvrir le
        hackerspace, ses membres, ses projets.
      </p>
      <h4>Linux Install Party (sur inscription)</h4>
      <p class="text-sm text-gray-600">
        <span class="font-semibold">ğŸ“… Samedi 29 novembre</span>
        <span class="ml-4">ğŸ• 14:00
          â†’
          17:00 </span>
      </p>

      <p class="text-sm">
        <b>Sur inscription!</b>&nbsp; &nbsp;&nbsp;<i>PAF 3â‚¬</i>&nbsp; &nbsp; O<i>rganisÃ© par un membre.</i><br>Cet
        Ã©vÃ©nement n'est maintenu qu'en cas d'inscriptions suffisantes.<br><br><b>Inscription:&nbsp;<a
            href="mailto:lnux.ip.jhc@gmail.com" target="_blank"><u><u>lnux.ip.jhc@gmail.com</u></u></a></b>
      </p>
      <h4>Open Night</h4>
      <p class="text-sm text-gray-600">
        <span class="font-semibold">ğŸ“… Mercredi 3 dÃ©cembre</span>
        <span class="ml-4">ğŸ• 16:00
          â†’
          22:00 </span>
      </p>

      <p class="text-sm">
        <b>Ouvert Ã  tous!&nbsp; &nbsp;&nbsp;</b><i>Gratuit&nbsp; &nbsp; LgHs</i><br>Nous assurons l'accueil des
        visiteurs et des nouveaux membres chaque mercredi de 16h Ã  22h.<br>L'occasion parfaite de dÃ©couvrir le
        hackerspace, ses membres, ses projets.
      </p>
      <h4>Linux Meeting Party - Linux LiÃ¨ge Team</h4>
      <p class="text-sm text-gray-600">
        <span class="font-semibold">ğŸ“… Jeudi 4 dÃ©cembre</span>
        <span class="ml-4">ğŸ• 19:00
          â†’
          22:00 </span>
      </p>

      <p class="text-sm">
        <b>Ouvert Ã  tous.&nbsp;</b><i>Gratuit organisÃ© par&nbsp;LiLiT</i><br>Les Linux Meeting Parties (LMP) sont des
        rencontres informelles organisÃ©es par LiLiT dans nos locaux pour se rencontrer, pour discuter de GNU/Linux et
        des logiciels libres en gÃ©nÃ©ral.
      </p>
      <h4>Open Night</h4>
      <p class="text-sm text-gray-600">
        <span class="font-semibold">ğŸ“… Mercredi 10 dÃ©cembre</span>
        <span class="ml-4">ğŸ• 16:00
          â†’
          22:00 </span>
      </p>

      <p class="text-sm">
        <b>Ouvert Ã  tous!&nbsp; &nbsp;&nbsp;</b><i>Gratuit&nbsp; &nbsp; LgHs</i><br>Nous assurons l'accueil des
        visiteurs et des nouveaux membres chaque mercredi de 16h Ã  22h.<br>L'occasion parfaite de dÃ©couvrir le
        hackerspace, ses membres, ses projets.
      </p>
      <h4>Samedi de fin d'annÃ©e</h4>
      <p class="text-sm text-gray-600">
        <span class="font-semibold">ğŸ“… Samedi 13 dÃ©cembre</span>
        <span class="ml-4">ğŸ• 12:00
          â†’
          17:00 </span>
      </p>

      <p class="text-sm">
        <b>RÃ©servÃ© aux membres &amp; sympathisants*.</b><br>Le samedi aprÃ¨s-midi rencontre inter-hackerspace et
        prÃ©paration de l'auberge espagnole de fin d'annÃ©e.<br><br><i>*Anciens membres, visiteurs connus, autres
          hacker/maker/...spaces, voisins.</i>
      </p>
      <h4>Auberge espagnole de fin d'annÃ©e</h4>
      <p class="text-sm text-gray-600">
        <span class="font-semibold">ğŸ“… Samedi 13 dÃ©cembre</span>
        <span class="ml-4">ğŸ• 17:00
          â†’
          23:00 </span>
      </p>

      <p class="text-sm">
        <b>RÃ©servÃ© aux membres &amp; sympathisants*.</b><br>Traditionnelle auberge espagnole de fin
        d'annÃ©e.<br><br><i>*Anciens membres, visiteurs connus, autres hacker/maker/...spaces, voisins.</i>
      </p>
      <h4>Open Night - La derniÃ¨re de l'annÃ©e !</h4>
      <p class="text-sm text-gray-600">
        <span class="font-semibold">ğŸ“… Mercredi 17 dÃ©cembre</span>
        <span class="ml-4">ğŸ• 16:00
          â†’
          22:00 </span>
      </p>

      <p class="text-sm">
        <b>Ouvert Ã  tous!&nbsp; &nbsp;&nbsp;</b><i>Gratuit&nbsp; &nbsp; LgHs</i><br>Nous assurons l'accueil des
        visiteurs et des nouveaux membres chaque mercredi de 16h Ã  22h.<br>L'occasion parfaite de dÃ©couvrir le
        hackerspace, ses membres, ses projets.
      </p>
    </div>
    <div class="mt-8 p-4 bg-gray-50 border-2 border-black text-center">
      <p class="font-bold mb-3 text-lg">ğŸ“† S'abonner au calendrier</p>
      <p class="text-sm mb-4">Ajoutez notre calendrier Ã  votre application prÃ©fÃ©rÃ©e (Google Calendar, Apple Calendar,
        Outlook...)</p>
      <div class="bg-white border-2 border-black px-4 py-3 mb-3 inline-block">
        <code class="text-sm font-mono">https://lghs.be/calendar.php</code>
      </div>
      <button
        onclick="navigator.clipboard.writeText('https://lghs.be/calendar.php'); this.textContent='CopiÃ© !'; setTimeout(() =&gt; this.textContent='Copier l\'adresse', 2000)"
        class="inline-block bg-black text-white px-4 py-2 font-bold hover:bg-gray-800 transition-colors cursor-pointer">
        Copier l'adresse
      </button>
    </div>
  </article>
</template>